

# Pedro Pathing Visualizer

An enhanced fork of the original path visualizer by FRC Team 16166 (Watt's Up), maintained and extended by FTC Team 18127 (All Hands on Tech). This project is a visual, interactive tool for designing, inspecting, comparing, and exporting robot motion paths used in competition robot programming.

--

**Quick links**

- Live demo: (if published to gh-pages — see project pages)
- Source: this repository

--

**Why this fork?**

The original visualizer is an excellent foundation. This fork focuses on features and workflows that help teams prototype and compare multiple autonomous paths quickly, create presentation-ready exports (GIFs), and inspect collision boundaries visually.

**Core goals**

- Make it trivial to create and manage multiple paths in one session.
- Provide deterministic, accurate per-path timing while keeping each path's motion model unchanged.
- Give visual tools for collision boundaries and debugging robot geometry.
- Improve UX, accessibility, and exportability (GIFs with configurable FPS).

--

**Table of contents**

- Features
- Tech stack
- Getting started (dev & build)
- Usage highlights
- Analytics & environment notes
- Contributing
- License

--

**Features (high level)**

- Multi-Path Editing: create, rename, reorder, duplicate, delete, and switch between multiple `RobotPath` objects.
- Path Comparison Mode: visually compare multiple paths in the same scene. Non-active paths are drawn as ghosts and the active path is drawn last so it remains prominent.
- Per-Path Robot Size: each path has independent `robotWidth` and `robotHeight` so you can compare different robot footprints.
- Per-Point Colors: control point and path colors are editable; colors persist in local state.
- Collision Visualization: show robot collision boxes (rotated to match heading) with configurable colors. Options include showing collision for the current segment only or for entire paths.
- Ghost Collision Overlays: in compare mode ghost robots display their collision outline at the corresponding frame so you can visually inspect overlaps between different runs.
- GIF Export with FPS Selector: export a recording of the scene as a GIF and select frame rate (FPS) for the export.
- Persistent Settings: settings and UI state (e.g., collision colors, toggles) are stored between sessions.
- Accessibility Improvements: keyboard-accessible path list rows and ARIA roles added to interactive non-button elements.
- UX Polishes: thinner path strokes (25% thinner than original), cleaned up controls, and a modernized settings modal.

**Developer & Implementation notes (useful when contributing)**

- The app is a Svelte + TypeScript single-page app bundled with Vite.
- Vector rendering is done primarily with Two.js; some UI helpers use d3 for scale transforms (inches ↔ pixels).
- GIF export uses a separate Two.js canvas instance along with html2canvas / gif helpers to capture frames.
- The project's motion model for robot movement has not been changed — instead, compare mode maps a global timeline to each path's natural duration and holds the final pose for shorter paths (so shorter paths are not slowed down; they simply wait at their final pose).

--

Tech stack

- Svelte 4 + TypeScript
- Vite for dev & production builds
- Two.js for 2D drawing
- d3-scale for measurement transforms
- gif.js / html2canvas helpers for GIF export

--

Getting started (local development)

1. Clone the repository

```bash
git clone https://github.com/BryceTieu/Pedro-Visualzier-18127.git
cd Pedro-Visualzier-18127
```

2. Install dependencies

```bash
npm install
```

3. Run the dev server (hot reload)

```bash
npm run dev
```

Open the printed localhost URL in your browser.

4. Build for production

```bash
npm run build
```

5. Deploy (GitHub Pages helper)

```bash
npm run deploy
```

--

Usage highlights (what changed recently)

- Multi-path workflow
	- Use the Paths panel to add new paths (the Add button now creates a blank default path instead of cloning the previous path).
	- Reorder paths with drag handles, set sizes independently per path, and edit each path's color.

- Compare mode details
	- Toggle Compare Mode to see ghost paths and ghost collision outlines for each path at the mapped frame.
	- The active path renders last so edits remain visually clear.
	- Timing: each path advances according to its own natural duration (movement + waits). A global timeline maps into each path's elapsed time so shorter paths finish naturally and then hold their final pose.

- Collision visualization
	- Collision box outlines rotate to match the robot heading and respect per-path robot sizes.
	- Settings modal contains controls for collision color and whether to display segment-only collisions.

- GIF export
	- Use the Export controls to produce a GIF. You can select FPS for the export to control speed and file size.
	- Note: GIF export creates a separate Two.js canvas for consistent frame rendering.

- Accessibility and UX
	- Path rows are keyboard-activatable (`Enter` / `Space`) and have ARIA roles.
	- Visual polish: path strokes are slightly thinner for improved clarity.

--

Analytics & environment notes

- A static Google Analytics (gtag.js) snippet may be present in `index.html`. The app also contains a helper `src/lib/analytics.ts` for conditional initialization (for opt-in flows). The project does not auto-init analytics by default — the static snippet is authoritative if present.
- If you intend to use analytics, avoid committing private Measurement IDs to the repo. Use environment variables (Vite `VITE_GA_ID` and `VITE_GA_STREAM_ID`) during build-time if you need different values per deploy.

Example (set env var on Linux/macOS):

```bash
export VITE_GA_ID=G-XXXXXXXXXX
export VITE_GA_STREAM_ID=1234567890
npm run build
```

--

Contributing

- Bug reports, feature requests, and PRs are welcome. When opening a PR:
	- Keep changes focused and small.
	- If adding UI, include screenshots or a short GIF showing the change.
	- Run `npm run build` and ensure the app builds successfully before submitting.

If you accidentally commit sensitive values (e.g., a private `.env`), remove them from the repo and add them to `.gitignore`. For full removal from history, use `git filter-branch` or `git filter-repo` (this repo currently adds `.env` to `.gitignore`).

--

Developer tips & known caveats

- Bundle size: the production `index.js` bundle can be large; consider manual chunking if you plan to extend the app with heavy libraries.
- GIF export currently captures frames from a second Two.js instance; if you change the runtime draw pipeline, update the export pipeline accordingly so timing and visuals match.

--

License

This project retains the original project's license. See `LICENSE` for details.

--

Maintainers

- BryceTieu (primary maintainers & contributors listed in commit history)
- FTC Team 18127 — All Hands on Tech

--
<<<<<<< HEAD
=======

If you'd like a shorter README or targeted documentation (developer setup, GIF export internals, analytics opt-in flow, or a changelog), tell me which section to expand and I'll add it.
>>>>>>> 16c9120 (chore: build at 2025-12-17T04:31:06Z)
